# ドメイン設定 - 次のステップ

## ✅ 完了した作業

- [x] お名前.comでネームサーバーを設定
  - ネームサーバー1: `ns1.vercel-dns.com`
  - ネームサーバー2: `ns2.vercel-dns.com`

---

## 🚀 次のステップ

### ステップ1: Vercelでドメインを追加（まだの場合）

1. **Vercelダッシュボード**: https://vercel.com/dashboard
2. **premier-date** プロジェクトを選択
3. **Settings** → **Domains** → **Add Domain**
4. **ドメイン名を入力**: `premierdate.jp`
5. **Add** ボタンをクリック

**確認**: Vercelでドメインを追加しましたか？
- ✅ 追加済み → ステップ2へ
- ❌ まだ → 上記の手順を実行

---

### ステップ2: Vercel環境変数を設定

1. **Vercelダッシュボード** → **Settings** → **Environment Variables**
2. 以下の環境変数を追加：

| Key | Value | Environment |
|-----|-------|-------------|
| `NEXTAUTH_URL` | `https://premierdate.jp` | Production ✅ |
| `NEXT_PUBLIC_BASE_URL` | `https://premierdate.jp` | Production ✅ |
| `SMTP_FROM` | `noreply@premierdate.jp` | Production ✅ |

**重要**: 必ず **Production** 環境にチェックを入れてください。

---

### ステップ3: デプロイを再実行

環境変数を追加した後、デプロイを再実行して変更を反映します。

#### 方法A: Vercelダッシュボードから再デプロイ

1. **Deployments** タブを開く
2. 最新のデプロイメントの **...** メニューをクリック
3. **Redeploy** を選択
4. デプロイが完了するまで待つ（数分）

#### 方法B: GitHubから自動デプロイ（推奨）

```bash
cd /Users/kawamuratakeshi/Cursor/premier-date
git add .
git commit -m "ドメイン設定を追加"
git push
```

---

### ステップ4: 反映確認（24-48時間後）

#### 4-1. Vercelダッシュボードで確認

1. **Settings** → **Domains** → **premierdate.jp**
2. **ドメインの状態** を確認
   - ✅ **Valid**: 正常に設定完了
   - ⏳ **Pending**: 設定中（反映待ち）
   - ❌ **Error**: エラー（設定を確認）

#### 4-2. コマンドラインで確認

```bash
cd /Users/kawamuratakeshi/Cursor/premier-date
./check_domain.sh
```

#### 4-3. ブラウザで確認

1. **ブラウザでアクセス**: `https://premierdate.jp`
2. **SSL証明書の確認**: ブラウザのアドレスバーで🔒マークを確認
3. **サイトが表示されるか確認**

---

## 📊 現在の進捗状況

### 完了
- [x] コード側の設定（next.config.ts、.env.example）
- [x] お名前.comでネームサーバーを設定

### 次の作業
- [ ] Vercelでドメインを追加
- [ ] Vercel環境変数を設定（3つ）
- [ ] デプロイを再実行
- [ ] 反映確認（24-48時間後）

---

## 🔗 参考リンク

- **Vercelダッシュボード**: https://vercel.com/dashboard
- **お名前.com**: https://www.onamae.com/
- **詳細手順**: `お名前.com_ドメイン設定手順_premierdate.jp.md`

---

**更新日**: 2025年12月31日
