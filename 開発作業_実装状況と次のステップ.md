# 開発作業 - 実装状況と次のステップ

## 📊 現在の実装状況

### ✅ 実装済みの機能

1. **基本ページ構造**
   - ✅ トップページ（LP）
   - ✅ 検索ページ（フィルター、ソート機能）
   - ✅ 店舗詳細ページ（レビュー表示）
   - ✅ ランキングページ（用途別・エリア別）
   - ✅ ログインページ

2. **APIエンドポイント**
   - ✅ `GET /api/restaurants` - 店舗一覧取得
   - ✅ `GET /api/restaurants/[id]` - 個別店舗取得
   - ✅ `POST /api/auth/signup` - ユーザー登録
   - ✅ NextAuth.js認証（`/api/auth/[...nextauth]`）

3. **UIコンポーネント**
   - ✅ Header、Footer
   - ✅ SearchBar
   - ✅ FilterSidebar
   - ✅ SortSelector
   - ✅ RestaurantCard
   - ✅ LoadingSpinner、SkeletonCard、ErrorMessage

4. **データベース**
   - ✅ Supabase接続成功
   - ✅ Prismaスキーマ適用済み
   - ⏳ 初期データ投入（未完了）

### ⏳ 実装が必要な機能

1. **認証機能の統合**
   - [ ] Headerコンポーネントでの認証状態表示
   - [ ] ログイン/ログアウトボタン
   - [ ] 認証が必要な機能の実装

2. **レビュー機能**
   - [ ] レビュー投稿API（`POST /api/restaurants/[id]/reviews`）
   - [ ] レビュー投稿UI（店舗詳細ページ）
   - [ ] レビュー編集・削除機能（オプション）

3. **お気に入り機能**
   - [ ] お気に入り追加/削除API（`POST /api/favorites`、`DELETE /api/favorites/[id]`）
   - [ ] お気に入りボタンUI（店舗カード、店舗詳細ページ）
   - [ ] お気に入り一覧ページ（オプション）

4. **デートコース提案機能**
   - [ ] デートコース作成API
   - [ ] デートコース表示UI
   - [ ] デートコース一覧ページ（オプション）

5. **その他の改善**
   - [ ] 検索機能の改善（キーワード検索）
   - [ ] ソート機能の改善（評価順、人気順など）
   - [ ] ページネーション
   - [ ] エラーハンドリングの改善

## 🎯 推奨される次のステップ（優先順位順）

### 1. 認証機能の統合（最優先）

Headerコンポーネントで認証状態を表示し、ログイン/ログアウトボタンを追加します。

**実装内容**:
- `useSession`を使用して認証状態を取得
- ログインしていない場合は「ログイン」ボタンを表示
- ログインしている場合は「ログアウト」ボタンとユーザー名を表示

### 2. レビュー投稿機能

店舗詳細ページにレビュー投稿機能を追加します。

**実装内容**:
- レビュー投稿フォーム（評価、デート適性、レビューテキスト）
- `POST /api/restaurants/[id]/reviews` APIエンドポイント
- 認証が必要（ログインしているユーザーのみ投稿可能）

### 3. お気に入り機能

店舗をお気に入りに追加/削除する機能を実装します。

**実装内容**:
- お気に入りボタン（店舗カード、店舗詳細ページ）
- `POST /api/favorites`、`DELETE /api/favorites/[id]` APIエンドポイント
- 認証が必要（ログインしているユーザーのみ利用可能）

### 4. その他の機能

- 検索機能の改善
- ソート機能の改善
- ページネーション

## 🚀 次のアクション

どの機能から実装を進めますか？

1. **認証機能の統合**（推奨）
2. **レビュー投稿機能**
3. **お気に入り機能**
4. **その他の機能**



