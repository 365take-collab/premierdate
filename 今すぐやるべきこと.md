# 今すぐやるべきこと

## 📊 現在の状況

### ✅ 完了済み
- データベースセットアップ（Supabase接続成功）
- 基本的なページ構造の作成
- 認証機能の実装
- **データベースに2,619件の店舗データを投入済み**（住所は「駅」のみ）
- 住所取得スクリプトの作成完了

### 🔄 進行中
- **住所取得の処理**（バックグラウンドで実行中、約1-2時間かかります）
  - 進捗: 10/2,623件完了
  - ログ: `update-addresses-full.log`

---

## 🎯 今すぐやるべきこと（優先順位順）

### 1. **Google Maps APIキーの準備** ⭐ 最優先

住所取得が完了したら、すぐに緯度・経度取得に進めるよう準備します。

**手順**:
1. [Google Cloud Console](https://console.cloud.google.com/)でプロジェクトを作成
2. Geocoding APIを有効化
3. APIキーを作成
4. `.env`ファイルに追加：
   ```env
   GOOGLE_MAPS_API_KEY=your-api-key-here
   ```

**所要時間**: 約10分

---

### 2. **既存データの確認と動作確認** ⭐ 優先

データベースに既に2,619件のデータが投入されているので、実際に動作を確認します。

**手順**:
```bash
# 開発サーバーが起動しているか確認
npm run dev

# ブラウザで確認
# http://localhost:3000/search
```

**確認項目**:
- [ ] 検索ページで店舗が表示されるか
- [ ] 店舗詳細ページが正常に表示されるか
- [ ] フィルター機能が動作するか
- [ ] エラーがないか（ブラウザの開発者ツールで確認）

**所要時間**: 約15分

---

### 3. **データベース投入スクリプトの改善** ⭐ 推奨

現在のデータベース投入スクリプト（`import-tokyo-calendar.ts`）を確認し、住所が更新されたJSONファイルに対応できるようにします。

**確認項目**:
- [ ] 住所が「駅」を含まない場合も正しく処理できるか
- [ ] 緯度・経度がnullの場合の処理
- [ ] 重複チェックのロジック

**所要時間**: 約20分

---

### 4. **その他の機能実装** ⭐ 時間がある場合

住所取得の完了を待つ間に、以下の機能を実装できます：

#### 4.1 レビュー機能の実装
- レビュー投稿フォーム
- レビュー一覧表示
- レビュー編集・削除

#### 4.2 お気に入り機能の実装
- お気に入り追加・削除
- お気に入り一覧表示

#### 4.3 UI/UXの改善
- ローディング状態の改善
- エラーハンドリングの改善
- レスポンシブデザインの改善

---

## ⏰ 時間別の推奨作業

### 今すぐ（10-15分）
1. Google Maps APIキーの準備
2. 既存データの動作確認

### 住所取得完了まで（1-2時間）
3. データベース投入スクリプトの改善
4. その他の機能実装（レビュー、お気に入りなど）

### 住所取得完了後
5. Google Maps Geocoding APIで緯度・経度取得
6. 更新されたデータをデータベースに再投入

---

## 📋 チェックリスト

- [ ] Google Maps APIキーを取得して`.env`に設定
- [ ] 開発サーバーで既存データの動作確認
- [ ] データベース投入スクリプトの確認・改善
- [ ] 住所取得の進捗確認（`tail -f update-addresses-full.log`）
- [ ] 住所取得完了を待つ（約1-2時間）

---

## 🚀 次のマイルストーン

1. **住所取得完了** → Google Maps Geocoding APIで緯度・経度取得
2. **緯度・経度取得完了** → データベースに再投入
3. **データベース更新完了** → ブラウザで動作確認
4. **デート特化情報の追加** → 横並び席、客層、ホテルまでの距離など

---

**推奨**: まずはGoogle Maps APIキーの準備と既存データの動作確認から始めましょう！
